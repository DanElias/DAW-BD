<!DOCTYPE html>
<html lang="es">
    <meta charset="UTF-8">
    
    <title>Lab 5 DAW</title>
    
    <head>
        <script type="text/javascript" src="script.js"></script>
        <link href="main.css" rel="stylesheet" type="text/css">
        <link href="tutorials.css" rel="stylesheet" type="text/css">
    </head>
        
    <body>
       
        <nav> 
            <ul>
                <li><a class="active" href="index.html">Home</a></li>
                <li><a href="passwords.html">LOL</a></li>
                <li><a href="index.html#preguntas">Preguntas</a></li>
                <li><a href="index.html#referencias">Referencias</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul> 
            
            
        </nav>
        
       <img src="img/watermark.png" id="watermark" align="left">
        
        <header id="home_header"> 
            <section>
                <h3>Lab6 DAW</h3>
            </section>
             
        </header>
        
        

        <section class="parallax2" id="home_body">
            <h6>-</h6>
            <article class="information">
            <h6>-</h6>
        
                <article id="tutorial1">
                    <div class="a" id="a">
                        <div class="b" id="b"> div a has position relative. div b has position absolute and top 0.
                        </div>
                        <div class="c" id="c"> div c has position absolute and is placed 50px down from the top of div a <br><br>
                        <button class="mybuttons" id="change_button">Change position</button><br>
                        </div>
                    </div>
                </article>
                
                
                <table class="third_table">
                    
                    <tr>
                        <td class="table_text">
                            <p class="font1" id="font1">This text is in Times New Roman and Italic Style Bold 20px</p>
                            <p class="font2" id="font2">This text is in Arial and Oblique Style 1.2em 3vw</p>
                            <p class="font3" id="font3">This text is in Bebas and Normal Style with Small Caps120%</p><br>
                            <button class="mybuttons" id="change_fontsize">Change font size</button><br>
                            <button class="mybuttons" id="change_visibility">Change visibility</button><br>
                            <hr>
                        </td>
                        
                    </tr>
                    
                    <tr>
                        <td>
                            <form method="post">
                                <label class="basiclabel">Introduce un password:</label><br>
                                <input class="textfield" id="textfield" type="text" name="password" value="">
                                <br>
                                <label id="labelmistake"></label>
                                <br>
                                <label id="labelsecurity"></label>
                                <br>
                                <label class="basiclabel">Reingresa tu password para confirmar:</label><br>
                                <input class="textfield" id="textfield2" type="textarea" name="confirmar" value="">
                                <br>
                                <label id="labelcorrect"></label>
                                <br>  
                                <button class="mybuttons" id="botonsubmit">Listo</button>
                            </form><br><hr><br>
                        </td>
                    </tr>
                    
                    <tr>
                        <td id="images"> DRAG AND DROP PUZZLE<br><br>
                        <button class="mybuttons" id="play_button"> PLAY </button><br>
                            <div id="drag4" draggable="false"></div>
                            <div id="drag5" draggable="false"></div>
                            <div id="drag6" draggable="false"></div>
                        </td>
                    </tr>
                    <tr>
                        <td id="images">
                            <div id="drag7" draggable="false"></div>
                            <div id="drag8" draggable="false"></div>
                            <div id="drag9" draggable="false"></div>
                        </td>
                    </tr>
                    <tr>
                        <td id="images">
                            <div id="drag10" draggable="false"></div>
                            <div id="drag11" draggable="false"></div>
                            <div id="drag12" draggable="false"></div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td id="text">
                            <br>
                            <div id="div1"></div>
                            <div id="div2"></div>
                            <div id="div3"></div>
                        </td>
                    </tr>
                    
                     <tr>
                        <td id="text">
                            <div id="div4"></div>
                            <div id="div5"></div>
                            <div id="div6"></div>
                        </td>
                    </tr>
                    
                    <tr>
                        <td id="text">
                            <div id="div7"></div>
                            <div id="div8"></div>
                            <div id="div9"></div>
                        </td>
                    </tr>
                     
                    <tr>
                        <td class="table_text" id="preguntas"><strong><hr>PREGUNTAS E INVESTIGACIÓN<hr></strong>
                        </td>
                    </tr>
                    
                     <tr>
                        <td class="table_text"><strong>¿Por qué es una buena práctica usar JavaScript para checar que sean válidos los inputs de las formas antes de enviar los datos al servidor?</strong><br><br>
                        </td>
                    </tr>
                    
                     <tr>
                        <td class="table_text"><strong>¿Cómo puedes saltarte la seguridad de validaciones hechas con JavaScript?</strong><br><br>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="table_text"><strong>Si te puedes saltar la seguridad de las validaciones de JavaScript, entonces ¿por qué la primera pregunta dice que es una buena práctica?</strong><br><br>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="table_text" id="referencias"><strong><hr>REFERENCIAS<hr></strong><br>[1]https://michelletorres.mx/validar-formularios-con-javascript/<br>[2]https://www.clubdelphi.com/foros/showthread.php?t=65438<br>[3]https://www.smashingmagazine.com/2009/07/web-form-validation-best-practices-and-tutorials/<br>
                        </td>
                    </tr>
                    
                 </table>
            </article>
        </section>
        
        <aside></aside>
        
        <footer id="contacto"> 
            <p>Contacto</p>
            <p style="font-size: 20px">Daniel Elias Becerra &nbsp; &nbsp; &nbsp;  A01208905 <br> daniel.eliasbecerra98@gmail.com<br><br>
                Editor HTML: Brackets <br> <a href="http://brackets.io/">brackets.io</a> </p>
            
            <form action="enviar_mensaje">
                Mándame un mensaje!<br>
                <input type="text" name="name" value="Nombre completo">
                <br>
                <input type="text" name="email" value="Email">
                <br>
                <input type="text" name="email" value="Mensaje">
                <br>
                <input type="submit" value="Enviar">
            </form> 
        </footer>
        
    </body>
    
     <script type="text/javascript">
         
        document.getElementById("change_button").onclick=cambiarpos;
        document.getElementById("change_fontsize").onmouseover=cambiartamaño;
        document.getElementById("change_visibility").onmouseover=cambiarvisibilidad;
        document.getElementById("textfield").oninput=validar;
        document.getElementById("textfield2").oninput=validar;
        document.getElementById("botonsubmit").onclick=valfin;
         
        document.getElementById("drag4").ondragstart=drag;
        document.getElementById("drag5").ondragstart=drag;
        document.getElementById("drag6").ondragstart=drag;
        document.getElementById("drag7").ondragstart=drag;
        document.getElementById("drag8").ondragstart=drag;
        document.getElementById("drag9").ondragstart=drag;
        document.getElementById("drag10").ondragstart=drag;
        document.getElementById("drag11").ondragstart=drag;
        document.getElementById("drag12").ondragstart=drag;
         
        document.getElementById("div1").ondragover=allowDrop;
        document.getElementById("div2").ondragover=allowDrop;
        document.getElementById("div3").ondragover=allowDrop;
        document.getElementById("div4").ondragover=allowDrop;
        document.getElementById("div5").ondragover=allowDrop;
        document.getElementById("div6").ondragover=allowDrop;
        document.getElementById("div7").ondragover=allowDrop;
        document.getElementById("div8").ondragover=allowDrop;
        document.getElementById("div9").ondragover=allowDrop;
         
         
        document.getElementById("div1").ondrop=drop;
        document.getElementById("div2").ondrop=drop;
        document.getElementById("div3").ondrop=drop;
        document.getElementById("div4").ondrop=drop;
        document.getElementById("div5").ondrop=drop;
        document.getElementById("div6").ondrop=drop;
        document.getElementById("div7").ondrop=drop;
        document.getElementById("div8").ondrop=drop;
        document.getElementById("div9").ondrop=drop;
         
        document.getElementById("play_button").onclick=startgame;
         
         //Esta función hace que las piezas sean dragabble y además crea un set Interval que manda mensajes motivacionales y un SetTimeout que cuenta 30 segundos hasta mandar un mensaje de que se terminó el tiempo, también hace que se terminé el setInterval
            function startgame(){
                alert("Mueve las piezas a su respectivos lugares! Tienes 30 segundos!")
                document.getElementById("drag4").setAttribute('draggable', true);
                document.getElementById("drag5").setAttribute('draggable', true);
                document.getElementById("drag6").setAttribute('draggable', true);
                document.getElementById("drag7").setAttribute('draggable', true);
                document.getElementById("drag8").setAttribute('draggable', true);
                document.getElementById("drag9").setAttribute('draggable', true);
                document.getElementById("drag10").setAttribute('draggable', true);
                document.getElementById("drag11").setAttribute('draggable', true);
                document.getElementById("drag12").setAttribute('draggable', true);
                
                var interval=setInterval(function(){ alert("Vamos tu puedes!"); }, 10000);
                var timeout=setTimeout(function(){ clearInterval(interval);alert("¡SE TERMINÓ EL TIEMPO! ¡Lo lograste?"); }, 30000);
                
            }
            
            //esta función cambia la posicion del div a de relativa a asoluta. 
            function cambiarpos(){
                if(document.getElementById("a").style.position=="absolute"){
                     document.getElementById("a").style.position="relative";
                }
                else{
                    document.getElementById("a").style.position="absolute";
                }
           
            }
         
            //esta funcion cambia el tamaño de la letra. Funciona con onmouseover.
            function cambiartamaño(){
              if(document.getElementById("font1").style.fontSize=="20px"){
                     document.getElementById("font1").style.fontSize="xx-large";
                }
                else{
                    document.getElementById("font1").style.fontSize="20px";
                }
         }
         
            //esta funcion cambia la visibilidad de un text. Funciona con onmouseover.
            function cambiarvisibilidad(){
             if(document.getElementById("font3").style.visibility=="visible"){
                     document.getElementById("font3").style.visibility="hidden";
                }
                else{
                    document.getElementById("font3").style.visibility="visible";
                }
         }
         
            //función que válida que los caracteres de una contraseña sean válidos. También valida que el "volver a introducir contraseña" sean válido o que las dos comtraseñas coincidan.
            function validar(){
                var text;
                var bandera1=0;
                var bandera2=0;
                var bandera3=0;
                var bandera4=0;
                var text1;
                var text2;
                
                text=document.getElementById("textfield").value;
                text1=document.getElementById("textfield").value;
                text2=document.getElementById("textfield2").value;
                
                for(var i=0; i<text.length;i++){
                    if (text.charCodeAt(i)>=65 && text.charCodeAt(i)<=90) {
                        bandera1=1;
                    }
                    
                    if( (text.charCodeAt(i)>=33 && text.charCodeAt(i)<=47) || (text.charCodeAt(i)>=58 && text.charCodeAt(i)<=64) || (text.charCodeAt(i)>=91 && text.charCodeAt(i)<=96) || (text.charCodeAt(i)>=123&&text.charCodeAt(i)<=126)){
                        bandera2=1;
                    }
                    
                    if(text.charAt(i)>=0){
                        bandera3=1;
                    }
                    
                    if (text.charCodeAt(i)>=97 && text.charCodeAt(i)<=122) {
                        bandera4=1;
                    }
                }
                
                if(bandera2==0){
                    document.getElementById("labelmistake").innerHTML="Te falta poner al menos un caracter especial";
                }
                
                if(bandera3==0){
                    document.getElementById("labelmistake").innerHTML="Te falta poner al menos un número";
                }
                
                if(bandera1==0){
                    document.getElementById("labelmistake").innerHTML="Te falta poner al menos una letra mayúscula";
                }
                
                 if(bandera4==0){
                    document.getElementById("labelmistake").innerHTML="Te falta poner al menos una letra minúscula";
                }
                
                if(bandera1==1||bandera2==1||bandera3==1||bandera4==1){
                    document.getElementById("labelsecurity").innerHTML="Contraseña insegura";
                    document.getElementById("labelsecurity").style.color="red";
                }
                
                if(bandera1==0&&bandera2==0&&bandera3==0&&bandera4==0){
                    document.getElementById("labelsecurity").innerHTML="";
                }
                
                if(bandera1==1&&bandera2==1&&bandera3==1||bandera1==1&&bandera2==1&&bandera4==1||bandera2==1&&bandera3==1&&bandera4==1||bandera1==1&&bandera3==1&&bandera4==1){
                    document.getElementById("labelsecurity").innerHTML="Contraseña poco segura";
                    document.getElementById("labelsecurity").style.color="orange";
                }
                
                if(bandera1==1 && bandera2==1 && bandera3==1 && bandera4==1){
                    document.getElementById("labelmistake").innerHTML="";
                    document.getElementById("labelsecurity").style.color="limegreen";
                    document.getElementById("labelsecurity").innerHTML="Contraseña segura!";
                }
                
                
                if(text1==text2 && text1!="" && text2!=""){
                    document.getElementById("labelcorrect").style.color="limegreen";
                    document.getElementById("labelcorrect").innerHTML="Ambas contraseñas coinciden!";
                }
                
                else{
                    document.getElementById("labelcorrect").style.color="red";
                    document.getElementById("labelcorrect").innerHTML="Aún no coincide con la contraseña introducida";
                } 
            }
         
            //funciona que valida si una contraseña es válida.
            function valfin(){
              if(document.getElementById("labelcorrect").style.color=="limegreen" && document.getElementById("labelsecurity").style.color=="limegreen"){
                    alert("CONTRASEÑA VÁLIDA!");
                }
             else{
                    alert("CONTRASEÑA INVÁLIDA");
             }
         }  
         
            //función que permite el drop del drag and drop
            function allowDrop(ev) {
                ev.preventDefault();
            }

            //función que hace el drag posible (hahaha drag race)
            function drag(ev) {
                ev.dataTransfer.setData("text", ev.target.id);
            }
            
            //función que permite que el drop sea posible
            function drop(ev) {
                ev.preventDefault();
                var data = ev.dataTransfer.getData("text");
                ev.target.appendChild(document.getElementById(data));
            }
            
        </script>
</html>